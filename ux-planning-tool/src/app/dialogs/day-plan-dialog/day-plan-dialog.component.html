<h2 mat-dialog-title>Plan Day: {{ data.day }}</h2>
<h3 mat-dialog-title style="margin-top: -10px; font-size: 1rem; color: #666;">Team Member: {{ data.member }}</h3>

<mat-dialog-content>
  <div class="plan-container">
    
    <div class="free-day-section">
      <mat-checkbox 
        [(ngModel)]="isFreeDay" 
        (change)="onFreeDayChange()"
        color="primary">
        Mark as Free Day
      </mat-checkbox>
    </div>

    <mat-divider></mat-divider>

    <div class="features-section" [class.disabled]="isFreeDay">
      <h3>Select User Story</h3>
      <mat-accordion>
        <mat-expansion-panel *ngFor="let feature of features" [disabled]="isFreeDay">
          <mat-expansion-panel-header>
            <mat-panel-title>
              {{ feature.name }}
            </mat-panel-title>
          </mat-expansion-panel-header>
          
          <mat-radio-group [(ngModel)]="selectedUserStory" (change)="onUserStorySelect()">
            <mat-radio-button 
              *ngFor="let userStory of feature.userStories" 
              [value]="userStory"
              [disabled]="isFreeDay"
              class="user-story-option">
              {{ userStory }}
            </mat-radio-button>
          </mat-radio-group>
        </mat-expansion-panel>
      </mat-accordion>
    </div>

  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="onClear()" color="warn">Clear</button>
  <button mat-button (click)="onCancel()">Cancel</button>
  <button mat-raised-button color="primary" (click)="onSave()">
    Save
  </button>
</mat-dialog-actions>
